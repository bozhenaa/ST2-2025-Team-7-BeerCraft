# BeerCraftMVC

## Обща концепция

Приложението BeerCraftMVC е платформа за любители на домашното пивоварство, която позволява:
- създаване и споделяне на рецепти за бира,
- управление на собствени съставки и наличности,
- получаване на съвети от чатбот за рецепти или съставки

## База данни

### Основни таблици

- **User** (пази информация за потребителите)
  - user:recipe (1:M)
  - user:inventory (1:M)
  - user:likedRecipes (M:N)

- **Recipe** (пази информация за рецептите)
  - recipe:userAuthor (M:1)
  - recipe:ingredient (M:N)
  - recipe:likedRecipes (M:N)

- **Ingredient** (пази информация за съставките)
  - ingredient:characteristics (M:N)
  - ingredient:recipe (M:N)
  - ingredient:inventory (M:N)
  - ingredient:ingredientType (M:1)

- **IngredientType**
  - ingredientType:ingredient (1:M)

- **Inventory** (пази информация за наличностите на потребителите)

- **Characteristic** (пази информация за характеристиките на съставките)
  - characteristic:ingredient (M:N)

### Свързващи таблици (M:N)

- **LikedRecipes** (пази информация за харесаните рецепти от потребителите)
- **RecipeIngredient** (пази информация за съставките в рецептите)
- **IngredientCharacteristic** (свързва конкретни съставки с техните характеристики)

## Технологии
- ASP.NET Core MVC
- Entity Framework Core
- SQL Server
- HTML, CSS

## Design Patterns
В проекта са имплементирани ключови дизайн шаблони, за да се осигури чиста и тестваема, както и гъвкава архитектура.

## Repository Pattern за CRUD операциите
Абстрахиране на достъпа до данни чрез репозитории, което улеснява управлението на съхранението и извличането на данни от базата. 
Контролерите не комуникират с BeerCraftDbCOntext, а зависят от интерфейси.
Това означава, че лесно може да се смени източника на данни или да се добавят нови функционалности без промяна в контролерите.
Контролерът просто извиква метод от репозитория, който се грижи за цялата логика по достъпа до данни. 
Позволява се подмяна на източника на данни, без промяна на контролерите.

## Singleton Pattern за управление на конфигурацията на локалния езиков модел
Гарантира, че само една инстанция на LLMServide е създадена и се използва през цялото време на изпълнение на приложението.
Използва се за централизирано управление на конфигурацията и настройките на локалния езиков модел.

## DTO Pattern за пренос на данни между слоевете
Моделите на базата (entities) съдържат деликатни данни, които не трябва да се излагат директно на клиентите (views). 
Затова се използват DTO (Data Transfer Objects) за пренос на данни между слоевете на приложението - ViewModel.
Прости класове, които съдържат само необходимите данни за конкретната операция или изглед.

## Локален езиков модел
Локално свързан Ollama, управляван от LLMService. За да се гарантира отговор от контекст, всяка заявка е предхождана от системен промпт,
който дефинира ролята на чатбота и очаквания отговор.Потребителят взаимодейства с ИИ чрез чатбот интерфейс, който изпраща AJAX заявки към LLMService.
